<div class="container">
  <div class="passwort-reset-wrapper">
    <div class="passwort-reset-content-width">
      <app-header-start></app-header-start>

      <div class="passwort-reset-card">
        <img class="arrow-back standard-transition" routerLink="/" src="signup/arrow-back.png" alt="arrow back">
        <h1>Passwort zurücksetzen</h1>

        <!-- Formular nur anzeigen wenn Token gültig ist -->
        @if (tokenValid) {
          <div class="form">
            <input [(ngModel)]="newPassword" required name="password" class="password-input standard-transition" type="text" placeholder="Neues Passwort">
            <input [(ngModel)]="confirmPassword" required name="confirmPassword" class="password-input standard-transition" type="text" placeholder="Neues Passwort bestätigen">
          </div>
        }

        <!-- Fehlermeldung wenn Token ungültig -->
        @if (!tokenValid) {
          <div class="error-message">
            <p>Der Reset-Link ist ungültig oder abgelaufen.</p>
            <p>Bitte fordern Sie einen neuen Link an.</p>
          </div>
        }

        <!-- Button nur anzeigen wenn Token gültig -->
        @if (tokenValid) {
          <div class="forward-button-postition">
            <button (click)="resetPassword()" class="forward-button standard-transition" [disabled]="!isFormValid() || isLoading"> {{ isLoading ? 'Wird geändert...' : 'Passwort ändern' }}
            </button>
          </div>
        }
      </div>

      <app-footer-start></app-footer-start>
    </div>
  </div>
</div>