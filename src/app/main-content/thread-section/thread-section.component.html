<div class="sidenav-wrapper">
  <mat-drawer-container class="example-container" autosize>
    <mat-drawer #drawer class="example-sidenav" mode="side">
      <div>
        <div>
          <app-header-chat-section></app-header-chat-section>
        </div>
        <div class="close-button">
          <mat-icon (click)="chatService.close()">close</mat-icon>
        </div>
      </div>
      <div class="chat-container">
        <div #threadContainer class="thread-messages-container">
          <div *ngFor="let msg of chatService.messagesThread; let i = index">
            <div *ngIf="chatService.isFirstMessageOfDay(msg.timestamp, i, chatService.messagesThread)">
              <div class="date-divider">
                <span class="date-label">{{ chatService.getDateLabel(msg.timestamp, i, chatService.messagesThread) }}</span>
              </div>
            </div>
            <div class="sent-message">
              <app-sent-message [mode]="'thread'" *ngIf="msg.senderId === channelService.currentUserId" [message]="msg" [index]="i">
              </app-sent-message>
              <!--           <div *ngIf="selectedEmoji === i" class="emoji-container">
            <emoji-mart (emojiClick)="addEmojiMessage($event)"></emoji-mart>
          </div> -->
            </div>
            <app-received-message [mode]="'thread'" *ngIf="msg.senderId !== channelService.currentUserId" [message]="msg" [index]="i">
            </app-received-message>
          </div>
        </div>
      </div>
      <div>
        <app-input-message [mode]="'thread'">
        </app-input-message>
      </div>
    </mat-drawer>
  </mat-drawer-container>
</div>